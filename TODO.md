一。Bug类（P0）
我发现你现在多余10个球在放回的时候是自动放回。
实际上根据规则，我们应该让当前多余10个球的玩家自己选择任意的放回什么球（弹出一个消息框，两行，上面是当前的持有球（6种颜色）+数量，下一行是要放回的6种颜色的球+数量（一开始放回的是0），然后玩家可以自动调整下面的要放回的球的颜色和数量（通过上箭头和下箭头））。当放回总球数==当前持有球数-10 的时候，”放回“按钮变亮色，允许玩家放回

二。功能优化类 (P1)

我这边需要你新增一个可以通过用户名字追溯到之前房间，达到重新连接、重返正在进行中的对局的这样一个功能。

现在经常有一个问题，就是当我手滑退出了当前页面，我就没法重新连接，继续之前的对局了。对此你有什么好的建议吗？（你可以先跟我商量一下解决方案，先不着急实现代码）

细节：
1. 安全性考虑：您觉得玩家名需要加密吗？还是明文存储在localStorage就可以？：我觉得可以简单点先不加密。
2. 多开处理：只保留最新的游戏。一个用户名字只能对应一个游戏，他只有退出了当前的游戏才能加入新的游戏。

3. AI玩家的房间：如果房间里只剩AI玩家，人类玩家断线后，游戏要继续进行吗？还是暂停等待？ ：

暂停等待。

UI设计：重连提示放在哪里？
A. 进入大厅页面时弹窗提示



2.2用户数据库：
所以你现在会创建一个用户玩家的数据库吗？

我现在为了简单起见，只需要用一个用户登录时输入用户名即可。

然后搞一个登录界面，登陆界面输入用户名登陆。

然后进入大厅界面（可以建立房间/选择已有房间）。

进入大厅界面以后查看，如果用户有在进行中的游戏（没有退出游戏），就强制重新链接，跳转到进行中的游戏。

对的，这样通过玩家数据库（玩家通过用户名直接登陆（如果没有就及时创建）），可以追溯这个玩家的状态，从而可以连接到之前的进行中的游戏

使用简单的数据库保存玩家数据，让系统重启的时候数据还在。（比如一个玩家在系统重启后还可以输入他之前的用户名，登陆他之前的账户，查看此用户过往的game history，然后复盘每一局的情况（包括他的得分、排名、所有的行动））

2.3 对局保存功能：
我现在希望你给游戏/测试都增加，保存游戏对局  的功能。如果是正式游戏，可以在对局结束以后弹出一个，保存对局。的按钮，把这个对局中，每一个回合，每一个玩家的历史动作，分数，卡牌，球数变化都详细的记录。

（记录可以到history文件夹）。然后对于一个用户，在大厅/房间内的时候，都有一个：展示历史对局的按钮。然后能够看到历史所有对局的信息条，然后点击一条，可以展示看到完全详细的历史对局，了解到自己/每一个其他对手的每一回合每一步都做了什么，方便复盘

三。前端优化类 (P1)

四。移动端兼容类 (P2)

五。测试
帮我写一下单元测试+全局测试。

单元测试：
5.1 网页顺利打开，前端显示无误。
登陆、大厅、房间、游戏跳转无误。 数据库存储无误，对局历史保存无误
（可以模拟，前端一个正常玩家从登录界面一直到游戏界面的js的响应）
5.2功能测试
游戏的逻辑正常，拿球、预购、买卡无误，放球、进化无误。加一些难度的边缘案例进行详细的测试。卡堆、球堆、个人预购区、拥有卡牌区、折扣区都无误。

5.3 AI测试
2人/4人的简单/中等/困难的AI对战无误，各找10个例子进行完整的18分对局。（一共2*3*10=60局）

5.4 全局检查
全项目检查一下，看一下还有什么可能有风险的，不合理的，可以优化的问题。